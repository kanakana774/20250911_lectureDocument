# 導入：なぜ webAPI なのか

## **1\. イントロダクション**

### なぜ**Web API** なのか。。。

- webAPI とは、大雑把に言うと、インターネットを介してアプリケーション同士が機能やデータを共有するためのもの。

- まずは今回作成する webAPI を利用した web アプリケーションを具体例として見てもらう。

  - **_⇒ プログラムが裏で API サーバーと通信して何かしらの処理を行うことで、このアプリケーションは動いている。_**

- 次に、世のアプリケーションがどのような仕組みで動いているのか、全体像を整理してみる。

## **2\. システムの分類：通信の有無**

webAPI の立ち位置を示すために、世のシステムを 通信するかしないかの 2 種類に分類してみる。

### **(1) 通信しないシステム（スタンドアロン型）**

外部のネットワークやサーバーに依存せず、単体で完結するシステムです。

- **PC アプリケーション / ローカルアプリケーション**: CAD ソフト、会計ソフト、画像編集ソフトなど。
- **オフラインゲーム**: インターネット接続がなくても遊べるゲーム。
- **組み込み機器**: 家電や自動車の内部制御など、単独で動作する機器。

### **(2) 通信するシステム（クライアント/サーバ型・分散型）**

外部のサーバーや他のシステムと通信して機能するシステムです。現代の多くのサービスがこれに該当します。

## **3\. 通信するシステムの分類：Web API の有無**

次に、通信するシステムをさらに詳しく見ていきます。ここで重要なのが、**Web API** を使っているか、使っていないかです。

### **(1) Web API を使うもの**

**HTTP ベースの通信プロトコル**（HTTP、HTTPS）を用いて、アプリケーション間でデータのやり取りを行う方式です。データの形式は **JSON** が主流です。

- **Web システム / SPA（Single Page Application）**
  - 例：React, Vue, Angular などで作られた Web サイト。ユーザーインターフェース（UI）はブラウザ上で動き、必要なデータを Web API 経由でサーバーから取得します。
- **モバイルアプリ**
  - 例：Instagram や X（旧 Twitter）、FinTech アプリ。アプリ自体はスマートフォンにインストールしますが、サーバーとの通信に Web API を使っています。
- **クラウドサービス / SaaS 連携**
  - 例：Salesforce, Slack, Google API, GitHub API など。これらのサービスは、外部のシステムが機能を呼び出せるように Web API を公開しています。
- **マイクロサービス**
  - 例：一つの大きなシステムを小さなサービスの集まりに分割するアーキテクチャ。サービス間の通信に Web API（REST や gRPC）を利用します。

**なぜ Web API が主流なの？**

- **シンプルさ**: HTTP と JSON は、開発者が理解しやすいシンプルな仕組みです。
- **汎用性**: ブラウザ、モバイルアプリ、IoT デバイスなど、あらゆるプラットフォームで利用できます。
- **拡張性**: 異なる技術スタックのシステム同士でも、Web API を介して容易に連携できます。

### **(2) Web API 以外の通信を使うもの**

HTTP を使わない、または API 形式ではない通信方式です。

- **メッセージング / PubSub 型**
  - 例：Apache Kafka, RabbitMQ, MQTT。非同期的なデータ伝送に特化しており、金融取引や大規模なリアルタイム処理で使われます。
- **独自バイナリプロトコル**
  - 例：オンラインゲームや一部の IoT デバイス。リアルタイム性を重視し、通信量を抑えるために、独自の形式でデータをやり取りします。
- **金融・産業系専用プロトコル**
  - 例：金融機関の国際送金で使われる SWIFT、製造業で使われる OPC-UA など。業界特有の標準規格です。
- **DB 直結型**
  - 例：クライアント PC から直接データベースに接続する古いシステム（ODBC/JDBC）。現在はセキュリティやスケーラビリティの観点から推奨されません。
- **リモートオブジェクト呼び出し**
  - 例：CORBA, Java RMI など。分散システムの黎明期に使われましたが、現在はほとんどレガシーとなっています。

## **4\. なぜ Web API を学ぶべきなのか？**

現代のソフトウェア開発は、**Web API を中心に動いています**。

- Web、モバイル、クラウド、IoT、マイクロサービスといった、**主要な開発分野で Web API が不可欠**です。
- Web API を学ぶことは、これらの分野で通用する**最も汎用性の高いスキル**を身につけることにつながります。
- 複雑なシステムや異なる技術を組み合わせる際にも、Web API は共通の「言語」として機能します。

---

# **Web API の具体的なサービス例**

## **1\. Web システムと API**⇐ 要は web アプリの裏で API 呼び出し

現代のウェブサイトの多くは、見た目とデータを分離して作られています。ユーザーがブラウザで見る UI（ユーザーインターフェース）は、React や Vue といった JavaScript のフレームワークで構築され、必要なデータは Web API 経由でサーバーから取得します。

### **例：X（旧 Twitter）**

- **タイムラインの表示**: ログイン後、Web API にリクエストを送り、最新のツイートやユーザー情報を取得します。
- **ツイートの投稿**: ツイートを投稿する際、入力したテキストを Web API 経由でサーバーに送信します。
- **「いいね」**: 「いいね」ボタンを押すと、その操作を Web API に伝えることで、サーバー側のデータが更新されます。

**ポイント**: ページ全体を再読み込みすることなく、タイムラインがリアルタイムに更新されるのは、この仕組みのおかげです。ニュースサイトや EC サイト（Amazon、楽天など）も、商品リストや在庫情報を Web API で取得しています。

## **2\. モバイルアプリと API**⇒ 要はモバイルアプリの裏から API 呼び出し

スマートフォンアプリの多くも、Web システムと同様に API を利用しています。アプリそのものはスマートフォンにインストールされますが、データのやり取りは Web API を通じて行われます。

### **例：Instagram**

- **写真のアップロード**: 撮影した写真をサーバーに送信する際、Web API を利用します。
- **フォロワー情報の取得**: フォロー中のユーザーのプロフィールや投稿を取得する際、Web API にリクエストを送ります。
- **ダイレクトメッセージ**: メッセージの送受信も Web API が使われています。

**ポイント**: モバイル通信の環境でも快適に動作するよう、軽量な JSON 形式のデータが API でやり取りされています。LINE や Uber Eats など、チャット・配車・フードデリバリー系のアプリも、ほぼ 100% API 通信です。

## **3\. 外部サービス連携と API**⇒ 要はサーバー間で API 呼び出し

多くの企業が、自社のサービスを外部のアプリケーションと連携させるために Web API を公開しています。これにより、新しいサービスやツールが生まれやすくなります。

### **例：Google Maps API**

- **地図の埋め込み**: 企業のウェブサイトで店舗の場所を表示したり、不動産サイトで物件の位置を示す際、Google Maps API を利用します。
- **経路検索**: アプリケーション上で出発地から目的地までの経路を検索する機能も、Google Maps API によって実現されています。

### **例：決済サービス API（Stripe など）**

- **オンライン決済**: EC サイトやサブスクリプションサービスでクレジットカード決済を導入する際、決済サービスが提供する Web API を利用します。セキュリティが厳格な決済情報を自社で管理することなく、安全に取引を処理できます。

**ポイント**: 公開されている API を利用することで、ゼロから開発する必要がなくなり、開発コストと時間を大幅に削減できます。他にも、Google Drive や Dropbox などの**クラウドストレージ API**、Google や Apple の ID でログインできる**SNS ログイン API**、そして**Salesforce や Slack、GitHub などの業務 SaaS 連携 API**などが広く使われています。

## **4\. Web API が浸透しているその他の分野**

Web システム、モバイル、外部サービス連携の 3 つの柱以外にも、Web API は様々な分野で利用されています。

### **(1) IoT と API**

**スマート家電**が天気予報や音楽を再生する際に、Web API 経由でデータを取得しています。また、産業用 IoT においても、センサーから収集した情報をクラウドに送信するために Web API が利用されています。

### **(2) ゲームと API**

スマートフォンゲームのガチャ結果やランキング表示は、Web API 経由でサーバーと通信しています。家庭用ゲーム機（Switch や PS）でも、アカウント認証、課金、マルチプレイのマッチングなどに Web API が使われています。

### **(3) 業務システム（BtoB）と API**

企業間のシステム連携でも Web API は不可欠です。例えば、会計システムが銀行の API を利用して口座明細を自動取得したり、物流システムが運送会社の API で荷物の追跡情報を取得したりしています。

## **まとめ**

Web API は、現代のソフトウェア開発において、異なるシステムやサービスを連携させるための共通言語となっています。Web サービス、モバイルアプリ、外部サービス連携といった王道の分野に加え、IoT、ゲーム、業務システムでも Web API が広く利用されています。
